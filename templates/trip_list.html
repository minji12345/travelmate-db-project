{% extends "base.html" %}
{% block content %}

<h2 style="margin-bottom:20px;">여행 목록</h2>

<!-- 새 여행 만들기 -->
<p style="margin-bottom:25px;">
  <a href="{{ url_for('trip_form') }}"
     style="font-size:18px; text-decoration:none; color:#1a73e8;">
    + 새 여행 만들기
  </a>
</p>

<!-- 여행 없을 때 메시지 -->
{% if trips|length == 0 %}
  <p>아직 등록된 여행이 없습니다.</p>
{% endif %}

<!-- 여행 카드 목록 -->
<div style="display:flex; flex-direction:column; gap:16px;">

  {% for t in trips %}
  <div style="
        background:white;
        border-radius:10px;
        padding:18px 20px;
        border:1px solid #ddd;
        box-shadow:0 2px 6px rgba(0,0,0,0.05);
      ">

    <div style="display:flex; justify-content:space-between; align-items:center;">

      <!-- 여행 제목+날짜 전체 클릭 가능 -->
      <a href="{{ url_for('trip_detail', trip_id=t.trip_id) }}"
         style="text-decoration:none; color:inherit; flex:1;">

        <div>
          <h3 style="margin:0 0 6px 0; font-size:20px;">{{ t.title }}</h3>
          <p style="margin:0; color:#555; font-size:15px;">
            {{ t.start_date }} ~ {{ t.end_date }}
          </p>
        </div>

      </a>

      <!-- 삭제 버튼 -->
      <form method="POST"
            action="{{ url_for('trip_delete', trip_id=t.trip_id) }}"
            style="display:inline;"
            onsubmit="return confirm('이 여행의 모든 일정, 지출, 정산 내역이 함께 삭제됩니다.\n정말 삭제하시겠습니까?');">
        <button type="submit"
                style="
                    padding:6px 12px;
                    border:1px solid #e57373;
                    background:#ffebee;
                    color:#c62828;
                    border-radius:6px;
                    cursor:pointer;
                    font-size:13px;
                ">
          삭제
        </button>
      </form>

    </div>

  </div>
  {% endfor %}

</div>

{% endblock %}
